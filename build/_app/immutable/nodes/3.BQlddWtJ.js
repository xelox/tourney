import"../chunks/DsnmJJEf.js";import"../chunks/ByTUjnXn.js";import{b as Te,l as Ae,e as H,o as Ce,a as Ne}from"../chunks/DZBSwm0Q.js";import{l as ce,e as Oe,s as V,h as A,L as Re,g as ze,A as M,Q as Le,i as Ie,H as De,j as ie,k as K,t as I,ad as He,ah as Ue,m as J,o as qe,n as R,aD as Be,az as q,aE as ne,al as de,ab as he,aF as Fe,p as _e,q as We,aG as $e,aH as Pe,aI as Y,a9 as pe,K as me,af as Ve,aJ as Ke,ak as Ye,aK as je,T as Ge,aL as Qe,aM as Ze,aN as Je,aO as Xe,aP as ea,aQ as aa,D,aR as ra,x as re,ay as ta,aS as sa,ax as ia,a2 as ge,b as te,d as X,a5 as W,r as B,a3 as be,B as na,a as ee,a4 as we,S as U,aT as oa}from"../chunks/CVDsBalB.js";import{b as oe,s as la,c as j,p as fa}from"../chunks/CnKtCqUK.js";import{i as ke}from"../chunks/Dek8J-GH.js";import{p as le}from"../chunks/C2nT3uSY.js";import{F as ua}from"../chunks/BQu2-JPA.js";let F=null;function va(e,a,r){for(var s=e.items,t=[],n=a.length,o=0;o<n;o++)Ke(a[o].e,t,!0);var v=n>0&&t.length===0&&r!==null;if(v){var d=r.parentNode;Ye(d),d.append(r),s.clear(),T(e,a[0].prev,a[n-1].next)}je(t,()=>{for(var h=0;h<n;h++){var m=a[h];v||(s.delete(m.k),T(e,m.prev,m.next)),me(m.e,!v)}})}function ca(e,a,r,s,t,n=null){var o=e,v={flags:a,items:new Map,first:null};{var d=e;o=A?V(Re(d)):d.appendChild(ce())}A&&ze();var h=null,m=!1,_=new Map,f=Le(()=>{var l=r();return he(l)?l:l==null?[]:de(l)}),p,i;function b(){da(i,p,v,_,o,t,a,s,r),n!==null&&(p.length===0?h?_e(h):h=J(()=>n(o)):h!==null&&We(h,()=>{h=null}))}Oe(()=>{i??=Ge,p=M(f);var l=p.length;if(m&&l===0)return;m=l===0;let g=!1;if(A){var y=Ie(o)===De;y!==(l===0)&&(o=ie(),V(o),K(!1),g=!0)}if(A){for(var k=null,c,u=0;u<l;u++){if(I.nodeType===He&&I.data===Ue){o=I,g=!0,K(!1);break}var w=p[u],x=s(w,u);c=ae(I,v,k,null,w,x,u,t,a,r),v.items.set(x,c),k=c}l>0&&V(ie())}if(A)l===0&&n&&(h=J(()=>n(o)));else if(qe()){var S=new Set,C=R;for(u=0;u<l;u+=1){w=p[u],x=s(w,u);var E=v.items.get(x)??_.get(x);E?xe(E,w,u):(c=ae(null,v,null,null,w,x,u,t,a,r,!0),_.set(x,c)),S.add(x)}for(const[O,z]of v.items)S.has(O)||C.skipped_effects.add(z.e);C.add_callback(b)}else b();g&&K(!0),M(f)}),A&&(o=I)}function da(e,a,r,s,t,n,o,v,d){var h=a.length,m=r.items,_=r.first,f=_,p,i=null,b,l=[],g=[],y,k,c,u;for(u=0;u<h;u+=1)y=a[u],k=v(y,u),c=m.get(k),c!==void 0&&(c.a?.measure(),(b??=new Set).add(c));for(u=0;u<h;u+=1){if(y=a[u],k=v(y,u),c=m.get(k),c===void 0){var w=s.get(k);if(w!==void 0){s.delete(k),m.set(k,w);var x=i?i.next:f;T(r,i,w),T(r,w,x),G(w,x,t),i=w}else{var S=f?f.e.nodes_start:t;i=ae(S,r,i,i===null?r.first:i.next,y,k,u,n,o,d)}m.set(k,i),l=[],g=[],f=i.next;continue}if(xe(c,y,u),(c.e.f&Y)!==0&&(_e(c.e),c.a?.unfix(),(b??=new Set).delete(c)),c!==f){if(p!==void 0&&p.has(c)){if(l.length<g.length){var C=g[0],E;i=C.prev;var O=l[0],z=l[l.length-1];for(E=0;E<l.length;E+=1)G(l[E],C,t);for(E=0;E<g.length;E+=1)p.delete(g[E]);T(r,O.prev,z.next),T(r,i,O),T(r,z,C),f=C,i=z,u-=1,l=[],g=[]}else p.delete(c),G(c,f,t),T(r,c.prev,c.next),T(r,c,i===null?r.first:i.next),T(r,i,c),i=c;continue}for(l=[],g=[];f!==null&&f.k!==k;)(f.e.f&Y)===0&&(p??=new Set).add(f),g.push(f),f=f.next;if(f===null)continue;c=f}l.push(c),i=c,f=c.next}if(f!==null||p!==void 0){for(var L=p===void 0?[]:de(p);f!==null;)(f.e.f&Y)===0&&L.push(f),f=f.next;var P=L.length;if(P>0){var Se=h===0?t:null;{for(u=0;u<P;u+=1)L[u].a?.measure();for(u=0;u<P;u+=1)L[u].a?.fix()}va(r,L,Se)}}pe(()=>{if(b!==void 0)for(c of b)c.a?.apply()}),e.first=r.first&&r.first.e,e.last=i&&i.e;for(var Me of s.values())me(Me.e);s.clear()}function xe(e,a,r,s){Be(e.v,a),e.i=r}function ae(e,a,r,s,t,n,o,v,d,h,m){var _=F,f=(d&$e)!==0,p=(d&Pe)===0,i=f?p?q(t,!1,!1):ne(t):t,b=(d&Fe)===0?o:ne(o),l={i:b,v:i,k:n,a:null,e:null,prev:r,next:s};F=l;try{if(e===null){var g=document.createDocumentFragment();g.append(e=ce())}return l.e=J(()=>v(e,i,b,h),A),l.e.prev=r&&r.e,l.e.next=s&&s.e,r===null?m||(a.first=l):(r.next=l,r.e.next=l.e),s!==null&&(s.prev=l,s.e.prev=l.e),l}finally{F=_}}function G(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,t=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==null&&n!==s;){var o=Ve(n);t.before(n),n=o}}function T(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const ha=Symbol("is custom element"),_a=Symbol("is html");function pa(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;$(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;$(e,"checked",null),e.checked=t}}};e.__on_r=r,Xe(r),Te()}}function $(e,a,r,s){var t=ma(e);A&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=r)&&(a==="loading"&&(e[ea]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ga(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function ma(e){return e.__attributes??={[ha]:e.nodeName.includes("-"),[_a]:e.namespaceURI===Qe}}var fe=new Map;function ga(e){var a=fe.get(e.nodeName);if(a)return a;fe.set(e.nodeName,a=[]);for(var r,s=e,t=Element.prototype;t!==s;){r=Je(s);for(var n in r)r[n].set&&a.push(n);s=Ze(s)}return a}const ba=()=>performance.now(),N={tick:e=>requestAnimationFrame(e),now:()=>ba(),tasks:new Set};function ye(){const e=N.now();N.tasks.forEach(a=>{a.c(e)||(N.tasks.delete(a),a.f())}),N.tasks.size!==0&&N.tick(ye)}function wa(e){let a;return N.tasks.size===0&&N.tick(ye),{promise:new Promise(r=>{N.tasks.add(a={c:e,f:r})}),abort(){N.tasks.delete(a)}}}function ka(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ue(e){const a={},r=e.split(";");for(const s of r){const[t,n]=s.split(":");if(!t||n===void 0)break;const o=ka(t.trim());a[o]=n.trim()}return a}const xa=e=>e;function ya(e,a,r){var s=F,t,n,o,v=null;s.a??={element:e,measure(){t=this.element.getBoundingClientRect()},apply(){if(o?.abort(),n=this.element.getBoundingClientRect(),t.left!==n.left||t.right!==n.right||t.top!==n.top||t.bottom!==n.bottom){const d=a()(this.element,{from:t,to:n},r?.());o=Ee(this.element,d,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:h,height:m}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var _=e.style;v={position:_.position,width:_.width,height:_.height,transform:_.transform},_.position="absolute",_.width=h,_.height=m;var f=e.getBoundingClientRect();if(t.left!==f.left||t.top!==f.top){var p=`translate(${t.left-f.left}px, ${t.top-f.top}px)`;_.transform=_.transform?`${_.transform} ${p}`:p}}}},unfix(){if(v){var d=e.style;d.position=v.position,d.width=v.width,d.height=v.height,d.transform=v.transform}}},s.a.element=e}function Ee(e,a,r,s,t){if(aa(a)){var n,o=!1;return pe(()=>{if(!o){var b=a({direction:"in"});n=Ee(e,b,r,s,t)}}),{abort:()=>{o=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(!a?.duration)return t(),{abort:D,deactivate:D,reset:D,t:()=>s};const{delay:v=0,css:d,tick:h,easing:m=xa}=a;var _=[];if(h&&h(0,1),d){var f=ue(d(0,1));_.push(f,f)}var p=()=>1-s,i=e.animate(_,{duration:v,fill:"forwards"});return i.onfinish=()=>{i.cancel();var b=1-s,l=s-b,g=a.duration*Math.abs(l),y=[];if(g>0){var k=!1;if(d)for(var c=Math.ceil(g/16.666666666666668),u=0;u<=c;u+=1){var w=b+l*m(u/c),x=ue(d(w,1-w));y.push(x),k||=x.overflow==="hidden"}k&&(e.style.overflow="hidden"),p=()=>{var S=i.currentTime;return b+l*m(S/g)},h&&wa(()=>{if(i.playState!=="running")return!1;var S=p();return h(S,1-S),!0})}i=e.animate(y,{duration:g,fill:"forwards"}),i.onfinish=()=>{p=()=>s,h?.(s,1-s),t()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=D)},deactivate:()=>{t=D},reset:()=>{},t:()=>p()}}function Ea(e,a,r=a){var s=ra(),t=new WeakSet;Ae(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=Q(e)?Z(o):o,r(o),R!==null&&t.add(R),s&&o!==(o=a())){var v=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(d,e.value.length))}}),(A&&e.defaultValue!==e.value||re(a)==null&&e.value)&&(r(Q(e)?Z(e.value):e.value),R!==null&&t.add(R)),ta(()=>{var n=a();if(e===document.activeElement){var o=sa??R;if(t.has(o))return}Q(e)&&n===Z(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Q(e){var a=e.type;return a==="number"||a==="range"}function Z(e){return e===""?null:+e}class se{#e=new WeakMap;#a;#r;static entries=new WeakMap;constructor(a){this.#r=a}observe(a,r){var s=this.#e.get(a)||new Set;return s.add(r),this.#e.set(a,s),this.#t().observe(a,this.#r),()=>{var t=this.#e.get(a);t.delete(r),t.size===0&&(this.#e.delete(a),this.#a.unobserve(a))}}#t(){return this.#a??(this.#a=new ResizeObserver(a=>{for(var r of a){se.entries.set(r.target,r);for(var s of this.#e.get(r.target)||[])s(r)}}))}}var Sa=new se({box:"border-box"});function Ma(e,a,r){var s=Sa.observe(e,()=>r(e[a]));ia(()=>(re(()=>r(e[a])),s))}function ve(e,a){var r=e.$$events?.[a.type],s=he(r)?r.slice():r==null?[]:[r];for(var t of s)t.call(this,a)}var Ta=te('<main class="svelte-c4f4ch"><img src="/x.png" class="remove_btn svelte-c4f4ch" alt=""/> <input type="text" class="svelte-c4f4ch"/> <img class="icon svelte-c4f4ch" alt=""/></main>');function Aa(e,a){ge(a,!1);let r=le(a,"player",12),s=le(a,"remove_player",8);ke();var t=Ta(),n=X(t),o=W(n,2);pa(o);var v=W(o,2);B(t),be(()=>$(v,"src",(na(r()),re(()=>r().image_url)))),H("click",n,()=>s()(r().image_url)),Ea(o,()=>r().tag,d=>r(r().tag=d,!0)),ee(e,t),we()}function Ca(e){const a=e-1;return a*a*a+1}function Na(e,{from:a,to:r},s={}){var{delay:t=0,duration:n=w=>Math.sqrt(w)*120,easing:o=Ca}=s,v=getComputedStyle(e),d=v.transform==="none"?"":v.transform,[h,m]=v.transformOrigin.split(" ").map(parseFloat);h/=e.clientWidth,m/=e.clientHeight;var _=Oa(e),f=e.clientWidth/r.width/_,p=e.clientHeight/r.height/_,i=a.left+a.width*h,b=a.top+a.height*m,l=r.left+r.width*h,g=r.top+r.height*m,y=(i-l)*f,k=(b-g)*p,c=a.width/r.width,u=a.height/r.height;return{delay:t,duration:typeof n=="function"?n(Math.sqrt(y*y+k*k)):n,easing:o,css:(w,x)=>{var S=x*y,C=x*k,E=w+x*c,O=w+x*u;return`transform: ${d} translate(${S}px, ${C}px) scale(${E}, ${O});`}}}function Oa(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var a=e,r=1;a!==null;)r*=+getComputedStyle(a).zoom,a=a.parentElement;return r}var Ra=te("<div><!></div>"),za=te('<main class="svelte-1mk8k8p"><input type="file" name="file_upload" class="drop_zone svelte-1mk8k8p"/> <h2 class="svelte-1mk8k8p">Participants:</h2> <div class="content_list_wrap svelte-1mk8k8p"></div> <!></main>');function Wa(e,a){ge(a,!1);let r=q({});oe.subscribe(i=>{U(r,i)});const s=[".jpg","jpeg",".png",".webp"];function t(i){if(!i.dataTransfer)throw"oh no, no image?";const b=i.dataTransfer.files;for(let l of b){const g=URL.createObjectURL(l);oa(r,M(r)[g]={tag:l.name.replace(/\.[^/.]+$/,""),image_url:g,image_blob:l})}h()}let n=q(0),o=q(0);function v(){U(o,Math.floor(M(n)/116))}Ce(()=>{window.addEventListener("resize",v),v()}),Ne(()=>{window.removeEventListener("resize",v)});function d(i){delete M(r)[i],URL.revokeObjectURL(i),U(r,M(r)),h()}function h(){fa.set(Object.values(M(r))),oe.set(M(r))}ke();var m=za(),_=X(m),f=W(_,4);ca(f,13,()=>Object.values(M(r)),i=>i.image_url,(i,b)=>{var l=Ra(),g=X(l);Aa(g,{get player(){return M(b)},remove_player:d}),B(l),ya(l,()=>Na,()=>({duration:200})),ee(i,l)}),B(f);var p=W(f,2);ua(p),B(m),be(i=>{$(_,"accept",i),la(f,`grid-template-columns: repeat(${M(o)??""}, 1fr)`)},[()=>s.join(",")]),H("click",_,j(function(i){ve.call(this,a,i)})),H("drop",_,j(t)),H("dragover",_,j(function(i){ve.call(this,a,i)})),H("resize",f,v),Ma(m,"clientWidth",i=>U(n,i)),ee(e,m),we()}export{Wa as component};
