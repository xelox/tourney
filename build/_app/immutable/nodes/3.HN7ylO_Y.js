import"../chunks/DsnmJJEf.js";import"../chunks/ByTUjnXn.js";import{b as Te,l as Ae,e as H,o as Ce,a as Oe,s as Ne}from"../chunks/DZBSwm0Q.js";import{l as ce,e as Re,s as j,h as A,L as ze,g as Le,A as S,Q as Ie,i as De,H as He,j as ie,k as K,t as I,ad as Ue,ah as qe,m as X,o as Be,n as R,aD as Fe,az as F,aE as ne,al as de,ab as he,aF as We,p as _e,q as $e,aG as Pe,aH as Ve,aI as Y,a9 as pe,K as me,af as je,aJ as Ke,ak as Ye,aK as Ge,T as Qe,aL as Ze,aM as Je,aN as Xe,aO as ea,aP as aa,aQ as ra,D,aR as ta,x as re,ay as sa,aS as ia,ax as na,a2 as ge,b as te,d as W,a5 as q,r as U,a3 as be,B as oa,a as ee,a4 as we,S as B,aT as la}from"../chunks/CVDsBalB.js";import{b as oe,s as fa,c as G,p as ua}from"../chunks/CnKtCqUK.js";import{i as ke}from"../chunks/Dek8J-GH.js";import{p as le}from"../chunks/C2nT3uSY.js";import{F as va}from"../chunks/BQu2-JPA.js";let $=null;function ca(e,a,r){for(var s=e.items,t=[],n=a.length,o=0;o<n;o++)Ke(a[o].e,t,!0);var v=n>0&&t.length===0&&r!==null;if(v){var d=r.parentNode;Ye(d),d.append(r),s.clear(),T(e,a[0].prev,a[n-1].next)}Ge(t,()=>{for(var h=0;h<n;h++){var m=a[h];v||(s.delete(m.k),T(e,m.prev,m.next)),me(m.e,!v)}})}function da(e,a,r,s,t,n=null){var o=e,v={flags:a,items:new Map,first:null};{var d=e;o=A?j(ze(d)):d.appendChild(ce())}A&&Le();var h=null,m=!1,_=new Map,f=Ie(()=>{var i=r();return he(i)?i:i==null?[]:de(i)}),p,l;function x(){ha(l,p,v,_,o,t,a,s,r),n!==null&&(p.length===0?h?_e(h):h=X(()=>n(o)):h!==null&&$e(h,()=>{h=null}))}Re(()=>{l??=Qe,p=S(f);var i=p.length;if(m&&i===0)return;m=i===0;let g=!1;if(A){var w=De(o)===He;w!==(i===0)&&(o=ie(),j(o),K(!1),g=!0)}if(A){for(var b=null,c,u=0;u<i;u++){if(I.nodeType===Ue&&I.data===qe){o=I,g=!0,K(!1);break}var k=p[u],y=s(k,u);c=ae(I,v,b,null,k,y,u,t,a,r),v.items.set(y,c),b=c}i>0&&j(ie())}if(A)i===0&&n&&(h=X(()=>n(o)));else if(Be()){var M=new Set,C=R;for(u=0;u<i;u+=1){k=p[u],y=s(k,u);var E=v.items.get(y)??_.get(y);E?xe(E,k,u):(c=ae(null,v,null,null,k,y,u,t,a,r,!0),_.set(y,c)),M.add(y)}for(const[N,z]of v.items)M.has(N)||C.skipped_effects.add(z.e);C.add_callback(x)}else x();g&&K(!0),S(f)}),A&&(o=I)}function ha(e,a,r,s,t,n,o,v,d){var h=a.length,m=r.items,_=r.first,f=_,p,l=null,x,i=[],g=[],w,b,c,u;for(u=0;u<h;u+=1)w=a[u],b=v(w,u),c=m.get(b),c!==void 0&&(c.a?.measure(),(x??=new Set).add(c));for(u=0;u<h;u+=1){if(w=a[u],b=v(w,u),c=m.get(b),c===void 0){var k=s.get(b);if(k!==void 0){s.delete(b),m.set(b,k);var y=l?l.next:f;T(r,l,k),T(r,k,y),Q(k,y,t),l=k}else{var M=f?f.e.nodes_start:t;l=ae(M,r,l,l===null?r.first:l.next,w,b,u,n,o,d)}m.set(b,l),i=[],g=[],f=l.next;continue}if(xe(c,w,u),(c.e.f&Y)!==0&&(_e(c.e),c.a?.unfix(),(x??=new Set).delete(c)),c!==f){if(p!==void 0&&p.has(c)){if(i.length<g.length){var C=g[0],E;l=C.prev;var N=i[0],z=i[i.length-1];for(E=0;E<i.length;E+=1)Q(i[E],C,t);for(E=0;E<g.length;E+=1)p.delete(g[E]);T(r,N.prev,z.next),T(r,l,N),T(r,z,C),f=C,l=z,u-=1,i=[],g=[]}else p.delete(c),Q(c,f,t),T(r,c.prev,c.next),T(r,c,l===null?r.first:l.next),T(r,l,c),l=c;continue}for(i=[],g=[];f!==null&&f.k!==b;)(f.e.f&Y)===0&&(p??=new Set).add(f),g.push(f),f=f.next;if(f===null)continue;c=f}i.push(c),l=c,f=c.next}if(f!==null||p!==void 0){for(var L=p===void 0?[]:de(p);f!==null;)(f.e.f&Y)===0&&L.push(f),f=f.next;var V=L.length;if(V>0){var Se=h===0?t:null;{for(u=0;u<V;u+=1)L[u].a?.measure();for(u=0;u<V;u+=1)L[u].a?.fix()}ca(r,L,Se)}}pe(()=>{if(x!==void 0)for(c of x)c.a?.apply()}),e.first=r.first&&r.first.e,e.last=l&&l.e;for(var Me of s.values())me(Me.e);s.clear()}function xe(e,a,r,s){Fe(e.v,a),e.i=r}function ae(e,a,r,s,t,n,o,v,d,h,m){var _=$,f=(d&Pe)!==0,p=(d&Ve)===0,l=f?p?F(t,!1,!1):ne(t):t,x=(d&We)===0?o:ne(o),i={i:x,v:l,k:n,a:null,e:null,prev:r,next:s};$=i;try{if(e===null){var g=document.createDocumentFragment();g.append(e=ce())}return i.e=X(()=>v(e,l,x,h),A),i.e.prev=r&&r.e,i.e.next=s&&s.e,r===null?m||(a.first=i):(r.next=i,r.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{$=_}}function Q(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,t=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==null&&n!==s;){var o=je(n);t.before(n),n=o}}function T(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const _a=Symbol("is custom element"),pa=Symbol("is html");function ma(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;P(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;P(e,"checked",null),e.checked=t}}};e.__on_r=r,ea(r),Te()}}function P(e,a,r,s){var t=ga(e);A&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=r)&&(a==="loading"&&(e[aa]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ba(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function ga(e){return e.__attributes??={[_a]:e.nodeName.includes("-"),[pa]:e.namespaceURI===Ze}}var fe=new Map;function ba(e){var a=fe.get(e.nodeName);if(a)return a;fe.set(e.nodeName,a=[]);for(var r,s=e,t=Element.prototype;t!==s;){r=Xe(s);for(var n in r)r[n].set&&a.push(n);s=Je(s)}return a}const wa=()=>performance.now(),O={tick:e=>requestAnimationFrame(e),now:()=>wa(),tasks:new Set};function ye(){const e=O.now();O.tasks.forEach(a=>{a.c(e)||(O.tasks.delete(a),a.f())}),O.tasks.size!==0&&O.tick(ye)}function ka(e){let a;return O.tasks.size===0&&O.tick(ye),{promise:new Promise(r=>{O.tasks.add(a={c:e,f:r})}),abort(){O.tasks.delete(a)}}}function xa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ue(e){const a={},r=e.split(";");for(const s of r){const[t,n]=s.split(":");if(!t||n===void 0)break;const o=xa(t.trim());a[o]=n.trim()}return a}const ya=e=>e;function Ea(e,a,r){var s=$,t,n,o,v=null;s.a??={element:e,measure(){t=this.element.getBoundingClientRect()},apply(){if(o?.abort(),n=this.element.getBoundingClientRect(),t.left!==n.left||t.right!==n.right||t.top!==n.top||t.bottom!==n.bottom){const d=a()(this.element,{from:t,to:n},r?.());o=Ee(this.element,d,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:d,width:h,height:m}=getComputedStyle(e);if(d!=="absolute"&&d!=="fixed"){var _=e.style;v={position:_.position,width:_.width,height:_.height,transform:_.transform},_.position="absolute",_.width=h,_.height=m;var f=e.getBoundingClientRect();if(t.left!==f.left||t.top!==f.top){var p=`translate(${t.left-f.left}px, ${t.top-f.top}px)`;_.transform=_.transform?`${_.transform} ${p}`:p}}}},unfix(){if(v){var d=e.style;d.position=v.position,d.width=v.width,d.height=v.height,d.transform=v.transform}}},s.a.element=e}function Ee(e,a,r,s,t){if(ra(a)){var n,o=!1;return pe(()=>{if(!o){var x=a({direction:"in"});n=Ee(e,x,r,s,t)}}),{abort:()=>{o=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(!a?.duration)return t(),{abort:D,deactivate:D,reset:D,t:()=>s};const{delay:v=0,css:d,tick:h,easing:m=ya}=a;var _=[];if(h&&h(0,1),d){var f=ue(d(0,1));_.push(f,f)}var p=()=>1-s,l=e.animate(_,{duration:v,fill:"forwards"});return l.onfinish=()=>{l.cancel();var x=1-s,i=s-x,g=a.duration*Math.abs(i),w=[];if(g>0){var b=!1;if(d)for(var c=Math.ceil(g/16.666666666666668),u=0;u<=c;u+=1){var k=x+i*m(u/c),y=ue(d(k,1-k));w.push(y),b||=y.overflow==="hidden"}b&&(e.style.overflow="hidden"),p=()=>{var M=l.currentTime;return x+i*m(M/g)},h&&ka(()=>{if(l.playState!=="running")return!1;var M=p();return h(M,1-M),!0})}l=e.animate(w,{duration:g,fill:"forwards"}),l.onfinish=()=>{p=()=>s,h?.(s,1-s),t()}},{abort:()=>{l&&(l.cancel(),l.effect=null,l.onfinish=D)},deactivate:()=>{t=D},reset:()=>{},t:()=>p()}}function Sa(e,a,r=a){var s=ta(),t=new WeakSet;Ae(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=Z(e)?J(o):o,r(o),R!==null&&t.add(R),s&&o!==(o=a())){var v=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(d,e.value.length))}}),(A&&e.defaultValue!==e.value||re(a)==null&&e.value)&&(r(Z(e)?J(e.value):e.value),R!==null&&t.add(R)),sa(()=>{var n=a();if(e===document.activeElement){var o=ia??R;if(t.has(o))return}Z(e)&&n===J(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Z(e){var a=e.type;return a==="number"||a==="range"}function J(e){return e===""?null:+e}class se{#e=new WeakMap;#a;#r;static entries=new WeakMap;constructor(a){this.#r=a}observe(a,r){var s=this.#e.get(a)||new Set;return s.add(r),this.#e.set(a,s),this.#t().observe(a,this.#r),()=>{var t=this.#e.get(a);t.delete(r),t.size===0&&(this.#e.delete(a),this.#a.unobserve(a))}}#t(){return this.#a??(this.#a=new ResizeObserver(a=>{for(var r of a){se.entries.set(r.target,r);for(var s of this.#e.get(r.target)||[])s(r)}}))}}var Ma=new se({box:"border-box"});function Ta(e,a,r){var s=Ma.observe(e,()=>r(e[a]));na(()=>(re(()=>r(e[a])),s))}function ve(e,a){var r=e.$$events?.[a.type],s=he(r)?r.slice():r==null?[]:[r];for(var t of s)t.call(this,a)}var Aa=te('<main class="svelte-c4f4ch"><img src="/tourney/x.png" class="remove_btn svelte-c4f4ch" alt=""/> <input type="text" class="svelte-c4f4ch"/> <img class="icon svelte-c4f4ch" alt=""/></main>');function Ca(e,a){ge(a,!1);let r=le(a,"player",12),s=le(a,"remove_player",8);ke();var t=Aa(),n=W(t),o=q(n,2);ma(o);var v=q(o,2);U(t),be(()=>P(v,"src",(oa(r()),re(()=>r().image_url)))),H("click",n,()=>s()(r().image_url)),Sa(o,()=>r().tag,d=>r(r().tag=d,!0)),ee(e,t),we()}function Oa(e){const a=e-1;return a*a*a+1}function Na(e,{from:a,to:r},s={}){var{delay:t=0,duration:n=k=>Math.sqrt(k)*120,easing:o=Oa}=s,v=getComputedStyle(e),d=v.transform==="none"?"":v.transform,[h,m]=v.transformOrigin.split(" ").map(parseFloat);h/=e.clientWidth,m/=e.clientHeight;var _=Ra(e),f=e.clientWidth/r.width/_,p=e.clientHeight/r.height/_,l=a.left+a.width*h,x=a.top+a.height*m,i=r.left+r.width*h,g=r.top+r.height*m,w=(l-i)*f,b=(x-g)*p,c=a.width/r.width,u=a.height/r.height;return{delay:t,duration:typeof n=="function"?n(Math.sqrt(w*w+b*b)):n,easing:o,css:(k,y)=>{var M=y*w,C=y*b,E=k+y*c,N=k+y*u;return`transform: ${d} translate(${M}px, ${C}px) scale(${E}, ${N});`}}}function Ra(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var a=e,r=1;a!==null;)r*=+getComputedStyle(a).zoom,a=a.parentElement;return r}var za=te("<div><!></div>"),La=te('<main class="svelte-1mk8k8p"><input type="file" name="file_upload" class="drop_zone svelte-1mk8k8p"/> <h2 class="svelte-1mk8k8p"> </h2> <div class="content_list_wrap svelte-1mk8k8p"></div> <!></main>');function $a(e,a){ge(a,!1);let r=F({});oe.subscribe(i=>{B(r,i)});const s=[".jpg","jpeg",".png",".webp"];function t(i){if(!i.dataTransfer)throw"oh no, no image?";const g=i.dataTransfer.files;for(let w of g){const b=URL.createObjectURL(w);la(r,S(r)[b]={tag:w.name.replace(/\.[^/.]+$/,""),image_url:b,image_blob:w})}h()}let n=F(0),o=F(0);function v(){B(o,Math.floor(S(n)/116))}Ce(()=>{window.addEventListener("resize",v),v()}),Oe(()=>{window.removeEventListener("resize",v)});function d(i){delete S(r)[i],URL.revokeObjectURL(i),B(r,S(r)),h()}function h(){ua.set(Object.values(S(r))),oe.set(S(r))}ke();var m=La(),_=W(m),f=q(_,2),p=W(f);U(f);var l=q(f,2);da(l,13,()=>Object.values(S(r)),i=>i.image_url,(i,g)=>{var w=za(),b=W(w);Ca(b,{get player(){return S(g)},remove_player:d}),U(w),Ea(w,()=>Na,()=>({duration:200})),ee(i,w)}),U(l);var x=q(l,2);va(x),U(m),be((i,g)=>{P(_,"accept",i),Ne(p,`Participants: ${g??""}`),fa(l,`grid-template-columns: repeat(${S(o)??""}, 1fr)`)},[()=>s.join(","),()=>Object.values(S(r)).length]),H("click",_,G(function(i){ve.call(this,a,i)})),H("drop",_,G(t)),H("dragover",_,G(function(i){ve.call(this,a,i)})),H("resize",l,v),Ta(m,"clientWidth",i=>B(n,i)),ee(e,m),we()}export{$a as component};
